
LCB;(()=>{"use strict";var t={25:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function c(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(t){c=[6,t],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.OnSaveLogic=e.FormLogic=void 0;var r=n(97),a=function(){function t(){}return t.filterLanguage=function(t){return i(this,void 0,void 0,(function(){var e,n,i,a,c,s,u,l,f,p;return o(this,(function(o){switch(o.label){case 0:return e=t.getFormContext(),n=new r.BaseHelper,i=null===(f=e.getAttribute("esp_mainbuttonsetting"))||void 0===f?void 0:f.getValue(),a=null===(p=e.getAttribute("esp_settinglanguage"))||void 0===p?void 0:p.getValue(),i?(c=i[0].id.replace(/[{}]/g,""),s="",a&&(s=a[0].id.replace(/[{}]/g,"")),[4,n.getFilterLookupForLanguage(c,s)]):[2];case 1:return u=o.sent(),(l=e.getControl("esp_settinglanguage"))&&l.addCustomFilter(u),[2]}}))}))},t.toggleDialogSection=function(t){var e=t.getFormContext(),n=e.getAttribute("esp_showconfirmationdialog");if(n){var i=n.getValue(),o=e.ui.tabs.get("general");if(o){var r=o.sections.get("confirmation_dialog");r&&(i?r.setVisible(!0):r.setVisible(!1))}}},t.toggleSyncSection=function(t){var e,n=t.getFormContext(),i=n.getAttribute("esp_executionmode");if(i){var o=i.getValue(),r=n.ui.tabs.get("general");if(r){var a=r.sections.get("sync_settings");if(a){var c=r.sections.get("async_settings");c&&(0==o?(a.setVisible(!0),c.setVisible(!1),null===(e=n.getAttribute("esp_syncconfirmationboxtype"))||void 0===e||e.setValue(null)):(c.setVisible(!0),a.setVisible(!1)))}}}},t.toggleBoxSection=function(t){var e=t.getFormContext(),n=e.getAttribute("esp_syncconfirmationboxtype");if(n){var i=n.getValue(),o=e.ui.tabs.get("general");if(o){var r=o.sections.get("sync_confirmation_box");if(r){var a=o.sections.get("sync_confirmation_redirect");a&&(0==i?(r.setVisible(!0),a.setVisible(!1)):1==i?(a.setVisible(!0),r.setVisible(!1)):(a.setVisible(!1),r.setVisible(!1)))}}}},t.onLoad=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return t.toggleDialogSection(e),t.toggleSyncSection(e),t.toggleBoxSection(e),[4,t.filterLanguage(e)];case 1:return n.sent(),[2]}}))}))},t.onChange=function(e){t.toggleDialogSection(e),t.toggleSyncSection(e),t.toggleBoxSection(e)},t}();e.FormLogic=a;var c=function(){function t(){}return t.onSaveDialogSection=function(t){return i(this,void 0,void 0,(function(){var e,n,i,a,c,s,u,l,f,p,d,g,b,m,y,_,v,h,x,S,C,w,A,B,V,L,T,F;return o(this,(function(o){switch(o.label){case 0:if(e=t.getFormContext(),n=e.getAttribute("esp_showconfirmationdialog"),i=e.getAttribute("esp_mainbuttonsetting"),a=e.getAttribute("esp_settinglanguage"),!n||!i)return[2];if(c=n.getValue(),s=i.getValue(),u=a.getValue(),!1===c&&(null===(B=e.getAttribute("esp_confirmationdialogtitle"))||void 0===B||B.setValue(null),null===(V=e.getAttribute("esp_confirmationdialogtext"))||void 0===V||V.setValue(null),null===(L=e.getAttribute("esp_confirmationdialogsubtitle"))||void 0===L||L.setValue(null),null===(T=e.getAttribute("esp_confirmationdialogcancellabel"))||void 0===T||T.setValue(null),null===(F=e.getAttribute("esp_confirmationdialogconfirmlabel"))||void 0===F||F.setValue(null)),!s||0===s.length||!s[0].id)return[2];if(!u||0===u.length||!u[0].id)return[2];l=s[0].id.replace(/[{}]/g,""),f=u[0].id.replace(/[{}]/g,""),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(new r.BaseHelper).getAllButtonAdvancedSettingExceptTheGivenLCID(l,f)];case 2:if(!(p=o.sent())||0===p.length)return[2];for(d=[],g=0,b=p;g<b.length;g++)m=b[g],(y=m.esp_buttonadvancedsettingid)&&(_=null,!1===c?_={esp_showconfirmationdialog:!1,esp_confirmationdialogtitle:null,esp_confirmationdialogtext:null,esp_confirmationdialogsubtitle:null,esp_confirmationdialogcancellabel:null,esp_confirmationdialogconfirmlabel:null}:!0===c&&(v=m.esp_confirmationdialogtitle,h=m.esp_confirmationdialogtext,x=m.esp_confirmationdialogsubtitle,S=m.esp_confirmationdialogcancellabel,C=m.esp_confirmationdialogconfirmlabel,!(v&&h&&x&&S&&C)&&(_={esp_showconfirmationdialog:!0,esp_modificationneededflag:!0})),_&&(w=Xrm.WebApi.updateRecord("esp_buttonadvancedsetting",y,_),d.push(w)));return d.length>0?[4,Promise.all(d)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:return A=o.sent(),console.error("Error in OnSaveLogic for dialog:",A),[3,6];case 6:return[2]}}))}))},t.onSaveSyncSections=function(t){return i(this,void 0,void 0,(function(){var e,n,i,a,c,s,u,l,f,p,d,g,b,m,y,_,v,h,x,S,C,w,A,B,V,L,T,F,E;return o(this,(function(o){switch(o.label){case 0:if(e=t.getFormContext(),n=e.getAttribute("esp_executionmode"),i=e.getAttribute("esp_mainbuttonsetting"),a=e.getAttribute("esp_settinglanguage"),!n||!i)return[2];if(c=n.getValue(),s=i.getValue(),u=a.getValue(),0===c?(null===(A=e.getAttribute("esp_asyncformnotificationtext"))||void 0===A||A.setValue(null),null===(B=e.getAttribute("esp_asyncformnotification"))||void 0===B||B.setValue(!1)):1===c&&(null===(V=e.getAttribute("esp_syncformnotificationtext"))||void 0===V||V.setValue(null),null===(L=e.getAttribute("esp_syncformnotification"))||void 0===L||L.setValue(!1),null===(T=e.getAttribute("esp_syncspinnertext"))||void 0===T||T.setValue(null),null===(F=e.getAttribute("esp_syncsuccessformnotificationtext"))||void 0===F||F.setValue(null),null===(E=e.getAttribute("esp_syncconfirmationboxtype"))||void 0===E||E.setValue(null)),!s||0===s.length||!s[0].id)return[2];if(!u||0===u.length||!u[0].id)return[2];l=s[0].id.replace(/[{}]/g,""),f=u[0].id.replace(/[{}]/g,""),"_$esp_mainbuttonsetting_value eq ".concat(l),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(new r.BaseHelper).getAllButtonAdvancedSettingExceptTheGivenLCID(l,f)];case 2:if(!(p=o.sent())||!p||0===p.length)return[2];for(d=[],g=0,b=p;g<b.length;g++)m=b[g],(y=m.esp_buttonadvancedsettingid)&&(_=null,0===c?(_={esp_ExecutionMode:0,esp_SyncConfirmationBoxType:null,esp_SyncFormNotificationText:null,esp_SyncFormNotification:!1,esp_SyncSpinnerText:null,esp_SyncSuccessFormNotificationText:null},!(h=m.esp_AsyncFormNotificationText)&&(_.esp_ModificationNeededFlag=!0)):1===c&&(_={esp_ExecutionMode:1,esp_AsyncFormNotificationText:null,esp_AsyncFormNotification:!1},v=m.esp_SyncConfirmationBoxType,h=m.esp_SyncFormNotificationText,x=m.esp_SyncSpinnerText,S=m.esp_SyncSuccessFormNotificationText,!(v&&h&&x&&S)&&(_.esp_ModificationNeededFlag=!0)),_&&(C=Xrm.WebApi.updateRecord("esp_buttonadvancedsetting",y,_),d.push(C)));return d.length>0?[4,Promise.all(d)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:return w=o.sent(),console.error("Error in OnSaveLogic for sync/async:",w),[3,6];case 6:return[2]}}))}))},t.onSaveBoxSections=function(t){return i(this,void 0,void 0,(function(){var e,n,i,a,c,s,u,l,f,p,d,g,b,m,y,_,v,h,x,S,C,w,A,B,V,L,T,F,E,N,k,G,I,R;return o(this,(function(o){switch(o.label){case 0:if(e=t.getFormContext(),n=e.getAttribute("esp_syncconfirmationboxtype"),i=e.getAttribute("esp_mainbuttonsetting"),a=e.getAttribute("esp_settinglanguage"),!n||!i)return[2];if(c=n.getValue(),s=i.getValue(),u=a.getValue(),0===c?(null===(T=e.getAttribute("esp_syncconfirmationboxredirectcancellabel"))||void 0===T||T.setValue(null),null===(F=e.getAttribute("esp_syncconfirmationboxredirectconfirmlabel"))||void 0===F||F.setValue(null),null===(E=e.getAttribute("esp_syncconfirmationboxredirectsubtitle"))||void 0===E||E.setValue(null),null===(N=e.getAttribute("esp_syncconfirmationboxredirecttext"))||void 0===N||N.setValue(null),null===(k=e.getAttribute("esp_syncconfirmationboxredirecttitle"))||void 0===k||k.setValue(null)):1===c&&(null===(G=e.getAttribute("esp_syncconfirmationboxconfirmlabel"))||void 0===G||G.setValue(null),null===(I=e.getAttribute("esp_syncconfirmationboxtext"))||void 0===I||I.setValue(null),null===(R=e.getAttribute("esp_syncconfirmationboxtitle"))||void 0===R||R.setValue(null)),!s||0===s.length||!s[0].id)return[2];if(!u||0===u.length||!u[0].id)return[2];l=s[0].id.replace(/[{}]/g,""),f=u[0].id.replace(/[{}]/g,""),"_$esp_mainbuttonsetting_value eq ".concat(l),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(new r.BaseHelper).getAllButtonAdvancedSettingExceptTheGivenLCID(l,f)];case 2:if(!(p=o.sent())||!p||0===p.length)return[2];for(d=[],g=0,b=p;g<b.length;g++)m=b[g],(y=m.esp_buttonadvancedsettingid)&&(_=null,0===c?(_={esp_SyncConfirmationBoxType:0,esp_SyncConfirmationBoxRedirectCancelLabel:null,esp_SyncConfirmationBoxRedirectConfirmLabel:null,esp_SyncConfirmationBoxRedirectSubtitle:null,esp_SyncConfirmationBoxRedirectText:null,esp_SyncConfirmationBoxRedirectTitle:null},v=m.esp_SyncConfirmationBoxTitle,h=m.esp_SyncConfirmationBoxText,x=m.esp_SyncConfirmationBoxConfirmLabel,v&&h&&x||(_.esp_ModificationNeededFlag=!0)):1===c&&(_={esp_SyncConfirmationBoxType:1,esp_SyncConfirmationBoxTitle:null,esp_SyncConfirmationBoxText:null,esp_SyncConfirmationBoxConfirmLabel:null},S=m.esp_SyncConfirmationBoxRedirectCancelLabel,C=m.esp_SyncConfirmationBoxRedirectConfirmLabel,w=m.esp_SyncConfirmationBoxRedirectSubtitle,A=m.esp_SyncConfirmationBoxRedirectText,B=m.esp_SyncConfirmationBoxRedirectTitle,!(S&&C&&w&&A&&B)&&(_.esp_ModificationNeededFlag=!0)),_&&(V=Xrm.WebApi.updateRecord("esp_buttonadvancedsetting",y,_),d.push(V)));return d.length>0?[4,Promise.all(d)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:return L=o.sent(),console.error("Error in OnSaveLogic for sync/async:",L),[3,6];case 6:return[2]}}))}))},t.onSave=function(e){t.onSaveDialogSection(e),t.onSaveBoxSections(e),t.onSaveSyncSections(e)},t}();e.OnSaveLogic=c},97:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function c(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(t){c=[6,t],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseHelper=void 0;var r=n(842),a=function(){function t(){}return t.prototype.getButtonLocation=function(t){t&&("object"==typeof t.data?(this.formContext=t,this.containerType="form"):"function"==typeof t.getGrid&&(this.gridControl=t,"function"==typeof this.gridControl.getParent&&null!==this.gridControl.getParent()?this.containerType="subgrid":this.containerType="grid"))},t.prototype.getLanguageCode=function(){return Xrm.Utility.getGlobalContext().userSettings.languageId},t.prototype.getUserID=function(){return Xrm.Utility.getGlobalContext().userSettings.userId.replace("{","").replace("}","").toLowerCase()},t.prototype.getEntityPluralName=function(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Xrm.Utility.getEntityMetadata(t)];case 1:return[2,e.sent().EntitySetName]}}))}))},t.prototype.makeRequest=function(t,e,n){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){return i={method:t,headers:{"Content-Type":"application/json","OData-MaxVersion":"4.0","OData-Version":"4.0",Accept:"application/json",Prefer:"odata.include-annotations=*"},body:n?JSON.stringify(n):void 0},[2,fetch(e,i)]}))}))},t.prototype.getButtonSetting=function(t){return i(this,void 0,void 0,(function(){var e,n,i,a,c;return o(this,(function(o){switch(o.label){case 0:e='\n      <fetch top="1">\n        <entity name="esp_buttonsetting">\n          <attribute name="esp_buttonsettingid" />\n          <attribute name="esp_buttonlocation" />\n          <attribute name="esp_endpoint" />\n          <attribute name="esp_includecallinguseridinpayload" />\n          <attribute name="esp_includeentitylogicalnameinpayload" />\n          <attribute name="esp_includerecordidinpayload" />\n          <attribute name="esp_buttonname" />\n          <attribute name="esp_savebeforerunning" />\n          <attribute name="esp_refreshwhenapicallends" />\n          <filter type="and">\n            <condition attribute="esp_buttonname" operator="eq" value="'.concat(t,'" />\n          </filter>\n        </entity>\n      </fetch>\n    '),n="?fetchXml=".concat(encodeURIComponent(e)),i="".concat(Xrm.Utility.getGlobalContext().getClientUrl(),"/api/data/v9.1/esp_buttonsettings").concat(n),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.makeRequest("GET",i)];case 2:return[4,o.sent().json()];case 3:return a=o.sent(),c=a.value[0],this.buttonSetting=c,[2,c];case 4:return o.sent(),r.ExceptionLowCodeButton.buttonSettingNotFound(t),[2,null];case 5:return[2]}}))}))},t.prototype.getButtonAdvancedSetting=function(t,e){return i(this,void 0,void 0,(function(){var n,i,a,c,s;return o(this,(function(o){switch(o.label){case 0:n='\n      <fetch top="1">\n        <entity name="esp_buttonadvancedsetting">\n          <attribute name="esp_asyncformnotification" />\n          <attribute name="esp_asyncformnotificationtext" />\n          <attribute name="esp_buttonadvancedsettingid" />\n          <attribute name="esp_confirmationdialogcancellabel" />\n          <attribute name="esp_confirmationdialogconfirmlabel" />\n          <attribute name="esp_confirmationdialogsubtitle" />\n          <attribute name="esp_confirmationdialogtext" />\n          <attribute name="esp_confirmationdialogtitle" />\n          <attribute name="esp_executionmode" />\n          <attribute name="esp_mainbuttonsetting" />\n          <attribute name="esp_modificationneededflag" />\n          <attribute name="esp_settingid" />\n          <attribute name="esp_settinglanguage" />\n          <attribute name="esp_showconfirmationdialog" />\n          <attribute name="esp_syncconfirmationboxconfirmlabel" />\n          <attribute name="esp_syncconfirmationboxredirectcancellabel" />\n          <attribute name="esp_syncconfirmationboxredirectconfirmlabel" />\n          <attribute name="esp_syncconfirmationboxredirectmode" />\n          <attribute name="esp_syncconfirmationboxredirectsubtitle" />\n          <attribute name="esp_syncconfirmationboxredirecttext" />\n          <attribute name="esp_syncconfirmationboxredirecttitle" />\n          <attribute name="esp_syncconfirmationboxtext" />\n          <attribute name="esp_syncconfirmationboxtitle" />\n          <attribute name="esp_syncconfirmationboxtype" />\n          <attribute name="esp_syncformnotification" />\n          <attribute name="esp_syncformnotificationtext" />\n          <attribute name="esp_syncrefreshform" />\n          <attribute name="esp_syncspinner" />\n          <attribute name="esp_syncspinnertext" />\n          <attribute name="esp_syncsuccessformnotification" />\n          <attribute name="esp_syncsuccessformnotificationtext" />\n          <filter>\n            <condition attribute="esp_mainbuttonsetting" operator="eq" value="'.concat(t,'" />\n          </filter>\n          <link-entity name="esp_language" from="esp_languageid" to="esp_settinglanguage" link-type="inner">\n            <filter>\n              <condition attribute="esp_lcid" operator="eq" value="').concat(e,'" />\n            </filter>\n          </link-entity>\n        </entity>\n      </fetch>\n    '),i="?fetchXml=".concat(encodeURIComponent(n)),a="".concat(Xrm.Utility.getGlobalContext().getClientUrl(),"/api/data/v9.1/esp_buttonadvancedsettings").concat(i),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.makeRequest("GET",a)];case 2:return[4,o.sent().json()];case 3:return c=o.sent(),s=c.value[0],this.buttonAdvancedSetting=s,[2,s];case 4:return o.sent(),r.ExceptionLowCodeButton.buttonAdvancedSettingNotFound(e),[2,null];case 5:return[2]}}))}))},t.prototype.getAllButtonAdvancedSettingExceptTheGivenLCID=function(t,e){return i(this,void 0,void 0,(function(){var n,i,a;return o(this,(function(o){switch(o.label){case 0:n='\n      <fetch>\n        <entity name="esp_buttonadvancedsetting">\n          <attribute name="esp_asyncformnotification" />\n          <attribute name="esp_asyncformnotificationtext" />\n          <attribute name="esp_buttonadvancedsettingid" />\n          <attribute name="esp_confirmationdialogcancellabel" />\n          <attribute name="esp_confirmationdialogconfirmlabel" />\n          <attribute name="esp_confirmationdialogsubtitle" />\n          <attribute name="esp_confirmationdialogtext" />\n          <attribute name="esp_confirmationdialogtitle" />\n          <attribute name="esp_executionmode" />\n          <attribute name="esp_mainbuttonsetting" />\n          <attribute name="esp_modificationneededflag" />\n          <attribute name="esp_settingid" />\n          <attribute name="esp_settinglanguage" />\n          <attribute name="esp_showconfirmationdialog" />\n          <attribute name="esp_syncconfirmationboxconfirmlabel" />\n          <attribute name="esp_syncconfirmationboxredirectcancellabel" />\n          <attribute name="esp_syncconfirmationboxredirectconfirmlabel" />\n          <attribute name="esp_syncconfirmationboxredirectmode" />\n          <attribute name="esp_syncconfirmationboxredirectsubtitle" />\n          <attribute name="esp_syncconfirmationboxredirecttext" />\n          <attribute name="esp_syncconfirmationboxredirecttitle" />\n          <attribute name="esp_syncconfirmationboxtext" />\n          <attribute name="esp_syncconfirmationboxtitle" />\n          <attribute name="esp_syncconfirmationboxtype" />\n          <attribute name="esp_syncformnotification" />\n          <attribute name="esp_syncformnotificationtext" />\n          <attribute name="esp_syncrefreshform" />\n          <attribute name="esp_syncspinner" />\n          <attribute name="esp_syncspinnertext" />\n          <attribute name="esp_syncsuccessformnotification" />\n          <attribute name="esp_syncsuccessformnotificationtext" />\n          <filter>\n            <condition attribute="esp_mainbuttonsetting" operator="eq" value="'.concat(t,'" />\n            <condition attribute="esp_settinglanguage" operator="ne" value="').concat(e,'" />\n          </filter>\n        </entity>\n      </fetch>\n    '),i="?fetchXml=".concat(encodeURIComponent(n)),a="".concat(Xrm.Utility.getGlobalContext().getClientUrl(),"/api/data/v9.1/esp_buttonadvancedsettings").concat(i),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.makeRequest("GET",a)];case 2:return[4,o.sent().json()];case 3:return[2,o.sent().value];case 4:return o.sent(),r.ExceptionLowCodeButton.displayGenericErrorNotification("Error","Error while fetching the advanced button settings except the given LCID. Function name: getAllButtonAdvancedSettingExceptTheGivenLCID"),[2,[]];case 5:return[2]}}))}))},t.prototype.getFilterLookupForLanguage=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.getAllButtonAdvancedSettingExceptTheGivenLCID(t,e)];case 1:return[2,"<filter type='and'>"+n.sent().map((function(t){return'<condition attribute="esp_buttonadvancedsettingid" operator="ne" value="'.concat(t.esp_buttonadvancedsettingid,'" />')})).join("")+"</filter>"]}}))}))},t.prototype.initializeSettings=function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,this.getButtonSetting(t)];case 1:return(e=n.sent())?[4,this.getButtonAdvancedSetting(e.esp_buttonsettingid,this.getLanguageCode())]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t}();e.BaseHelper=a},842:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function c(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(t){c=[6,t],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionLowCodeButton=void 0;var o=function(){function t(){}return t.buttonSettingNotFound=function(t){return n(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e={text:"Button setting not found: ".concat(t),title:"Button Setting Not Found"},[4,Xrm.Navigation.openAlertDialog(e)];case 1:return n.sent(),[2]}}))}))},t.buttonAdvancedSettingNotFound=function(t){return n(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e={text:"Button advanced setting not found for the LCID ".concat(t),title:"Button Advanced Setting Not Found"},[4,Xrm.Navigation.openAlertDialog(e)];case 1:return n.sent(),[2]}}))}))},t.displayGenericErrorNotification=function(t,e){return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){switch(i.label){case 0:return n={text:e,title:t},[4,Xrm.Navigation.openAlertDialog(n)];case 1:return i.sent(),[2]}}))}))},t}();e.ExceptionLowCodeButton=o}},e={},n=function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}(25);LCB=n})();
